import{r as x,j as e,S as _e,O as Q,C as Y,T as ee,D as te,A as se,b as ae,P as Ee,c as We,d as Oe,e as Ge,t as C,u as ne,f as oe,g as Pe,h as Ue,i as Ve,k as He,l as ie,m as Fe,n as Xe,o as $e,L as Je,p as Ze,q as Ke,s as qe,v as Qe,I as Ye,B as et,H as tt,w as st,x as at,y as nt,z as ot,U as it,E as re,F as le,G as rt,X as lt,J as ce,K as de,M as ct,N as dt,Q as mt,V as pt,W as ut,Y as xt,Z as ht,_ as gt,$ as ft,a0 as H,a1 as jt,a2 as vt,a3 as bt,a4 as yt,a5 as wt,a6 as Nt,a7 as Ct,a8 as St,a9 as kt,aa as Tt,ab as Dt,ac as It,ad as Lt,ae as zt,af as Rt,ag as Mt,ah as E,ai as Bt,aj as At}from"./vendor-react-BUutLKY5.js";import{x as _t,y as w,z as me,A as Et,B as l,C as z,D as Wt}from"./vendor-DOf-vrmd.js";import{u as Ot,E as Gt,S as Pt,L as Ut}from"./vendor-tiptap-CSa0tagI.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const d of n.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function s(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(o){if(o.ep)return;o.ep=!0;const n=s(o);fetch(o.href,n)}})();function h(...t){return _t(w(t))}const D={get(t){const a=localStorage.getItem(t);if(!a)return"";try{return JSON.parse(a)}catch{return""}},set(t,a){localStorage.setItem(t,JSON.stringify(a))},remove(t){localStorage.removeItem(t)}};function Vt(t){const s=new TextEncoder().encode(t),i=me.deflate(s);return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function Ht(t){let a=t.replace(/-/g,"+").replace(/_/g,"/");const s=a.length%4;s&&(a+="=".repeat(4-s));const i=new Uint8Array(atob(a).split("").map(d=>d.charCodeAt(0))),o=me.inflate(i);return new TextDecoder("utf-8").decode(o)}const P=Et("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),g=x.forwardRef(({className:t,variant:a,size:s,asChild:i=!1,...o},n)=>{const d=i?_e:"button";return e.jsx(d,{className:h(P({variant:a,size:s,className:t})),ref:n,...o})});g.displayName="Button";const Ft=We,Xt=Oe,$t=Ee,pe=x.forwardRef(({className:t,...a},s)=>e.jsx(Q,{className:h("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...a,ref:s}));pe.displayName=Q.displayName;const ue=x.forwardRef(({className:t,...a},s)=>e.jsxs($t,{children:[e.jsx(pe,{}),e.jsx(Y,{ref:s,className:h("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...a})]}));ue.displayName=Y.displayName;const xe=({className:t,...a})=>e.jsx("div",{className:h("flex flex-col space-y-2 text-center sm:text-left",t),...a});xe.displayName="AlertDialogHeader";const he=({className:t,...a})=>e.jsx("div",{className:h("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a});he.displayName="AlertDialogFooter";const ge=x.forwardRef(({className:t,...a},s)=>e.jsx(ee,{ref:s,className:h("text-lg font-semibold",t),...a}));ge.displayName=ee.displayName;const fe=x.forwardRef(({className:t,...a},s)=>e.jsx(te,{ref:s,className:h("text-sm text-muted-foreground",t),...a}));fe.displayName=te.displayName;const je=x.forwardRef(({className:t,...a},s)=>e.jsx(se,{ref:s,className:h(P(),t),...a}));je.displayName=se.displayName;const ve=x.forwardRef(({className:t,...a},s)=>e.jsx(ae,{ref:s,className:h(P({variant:"outline"}),"mt-2 sm:mt-0",t),...a}));ve.displayName=ae.displayName;const W=l.object({href:l.string(),content:l.string(),icon:l.string()}),Jt=l.object({type:l.literal("BasicInfo"),id:l.string(),data:l.object({propsData:l.object({avatarUrl:l.string(),avatarSize:l.number(),avatarRound:l.boolean(),name:l.string(),jobTitle:l.string(),linksGroup:l.tuple([l.array(W),l.array(W),l.array(W)])}),styleData:l.object({marginTop:l.number(),marginBottom:l.number()})})}),Zt=l.object({type:l.literal("TitleSection"),id:l.string(),data:l.object({propsData:l.object({title:l.string()}),styleData:l.object({marginTop:l.number(),marginBottom:l.number()})})}),Kt=l.object({type:l.literal("ExperienceTime"),id:l.string(),data:l.object({propsData:l.object({title:l.string(),dateRange:l.string()}),styleData:l.object({marginTop:l.number(),marginBottom:l.number()})})}),qt=l.object({type:l.literal("TextContent"),id:l.string(),data:l.object({propsData:l.object({content:l.string()}),styleData:l.object({marginTop:l.number(),marginBottom:l.number()})})}),Qt=l.object({type:l.literal("ImageSection"),id:l.string(),data:l.object({propsData:l.object({url:l.string(),imageSize:l.number(),borderRadius:l.number().optional().default(0)}),styleData:l.object({marginTop:l.number(),marginBottom:l.number()})})}),Yt=l.discriminatedUnion("type",[Jt,Zt,Kt,qt,Qt]),U=Yt.array(),be=[{type:"BasicInfo",icon:"iconify ri--user-3-line",title:"基本信息"},{type:"TitleSection",icon:"iconify ri--heading",title:"标题"},{type:"ExperienceTime",icon:"iconify ri--calendar-todo-line",title:"经历"},{type:"TextContent",icon:"iconify ri--ai-generate-text",title:"文本"},{type:"ImageSection",icon:"iconify ri--image-line",title:"图片"}],ye={};for(const t of be)ye[t.type]=t;function we(){return`${Date.now().toString(36)}_${Math.random().toString(36).slice(2,6)}`}function es(t){const a=we();switch(t){case"BasicInfo":return{type:"BasicInfo",id:a,data:{propsData:{avatarUrl:"/default.png",avatarSize:86,avatarRound:!0,name:"Mr.恒",jobTitle:"前端开发工程师",linksGroup:[[{href:"",content:"2099/12",icon:"MynauiCake"},{href:"",content:"1008611",icon:"MynauiTelephoneCall"}],[{href:"https://github.com/",content:"github.com",icon:"LogosGithubIcon"},{href:"mailto:window.apple@outlook.com",content:"window.apple@outlook.com",icon:"LogosGoogleGmail"}],[]]},styleData:{marginTop:0,marginBottom:0}}};case"TitleSection":return{type:"TitleSection",id:a,data:{propsData:{title:"工作经历"},styleData:{marginTop:20,marginBottom:12}}};case"ExperienceTime":return{type:"ExperienceTime",id:a,data:{propsData:{title:"XX有限公司",dateRange:"2077/07 - 2080/07"},styleData:{marginTop:0,marginBottom:0}}};case"TextContent":return{type:"TextContent",id:a,data:{propsData:{content:"<h3>XX项目 - Web 前端开发</h3><ul><li><p>负责从需求分析到前端架构设计、功能开发及性能优化的全流程开发工作。</p></li><li><p>坚持与产品、设计、后端团队紧密协作，推动敏捷开发流程和 CI/CD 工具链的落地，确保高质量的交付。</p></li><li><p>通过深入研究用户体验和前端性能，成功优化支付流程页面，提升了用户转化率和支付成功率。</p></li></ul>"},styleData:{marginTop:0,marginBottom:0}}};case"ImageSection":return{type:"ImageSection",id:a,data:{propsData:{url:"/image.png",imageSize:100,borderRadius:0},styleData:{marginTop:10,marginBottom:10}}};default:return t}}const ts=()=>({href:"https://github.com/",content:"github.com",icon:"RiLinksLine"}),ss=()=>[{type:"BasicInfo",id:"m5nh7g2t_c08t",data:{propsData:{avatarUrl:"/default.png",avatarSize:86,avatarRound:!0,name:"Mr.恒",jobTitle:"前端开发工程师",linksGroup:[[{href:"",content:"2050/01",icon:"MynauiCake"},{href:"",content:"15123456789",icon:"MynauiTelephoneCall"}],[{href:"https://github.com/",content:"github.com",icon:"LogosGithubIcon"},{href:"mailto:window.apple@outlook.com",content:"window.apple@outlook.com",icon:"LogosGoogleGmail"}],[]]},styleData:{marginTop:0,marginBottom:0}}},{type:"TitleSection",id:"m5nhbbzu_29xe",data:{propsData:{title:" 专业技能"},styleData:{marginTop:20,marginBottom:12}}},{type:"TextContent",id:"m5nhe7a6_uswu",data:{propsData:{content:"<ul><li><p>熟练掌握 <code>JavaScript</code>、<code>TypeScript</code> 语言；</p></li><li><p>熟练使用 <code>Vue</code>、<code>React</code> 开发前端应用，并掌握其基本原理；</p></li><li><p>熟练使用 <code>Vite</code>、<code>Webpack</code> 等打包工具构建应用；</p></li><li><p>熟练使用 <code>NodeJS</code>、<code>MySQL</code>、<code>Redis</code> 等技术开发后端应用；</p></li></ul>"},styleData:{marginTop:0,marginBottom:0}}},{type:"TitleSection",id:"m5nh7g2t_m1ad",data:{propsData:{title:"工作经历"},styleData:{marginTop:20,marginBottom:12}}},{type:"ExperienceTime",id:"m5nh7g2t_xcji",data:{propsData:{title:"XX有限公司",dateRange:"2077/07 - 2080/07"},styleData:{marginTop:0,marginBottom:0}}},{type:"TextContent",id:"m5nh7g2t_xhk3",data:{propsData:{content:"<h3>XX项目 - Web 前端开发</h3><ul><li><p>负责从需求分析到前端架构设计、功能开发及性能优化的全流程开发工作。</p></li><li><p>坚持与产品、设计、后端团队紧密协作，推动敏捷开发流程和 CI/CD 工具链的落地，确保高质量的交付。</p></li><li><p>通过深入研究用户体验和前端性能，成功优化支付流程页面，提升了用户转化率和支付成功率。</p></li></ul>"},styleData:{marginTop:0,marginBottom:0}}},{type:"TitleSection",id:"m5nhamir_1miv",data:{propsData:{title:"教育经历"},styleData:{marginTop:20,marginBottom:12}}},{type:"ExperienceTime",id:"m5nhboq6_hees",data:{propsData:{title:"XX大学 - 软件工程",dateRange:"2073/07 - 2077/07"},styleData:{marginTop:0,marginBottom:0}}}];function Ne(t){const a=t.find(s=>s.type==="BasicInfo");if(a){const{name:s,jobTitle:i}=a.data.propsData;return`${s} - ${i}`}return""}const I="WIDGET",F="PRINT",j=Ge()((t,a)=>{let s=[];const i=D.get(I);if(i){const n=U.safeParse(i);n.success?s=n.data:(console.error(n.error),setTimeout(()=>{C.error("配置文件解析失败",{position:"top-center"})},100))}else s=ss();const o=s.length?s[0].id:null;return{widgets:s,selectedId:o,selectedWidget:()=>{const{widgets:n,selectedId:d}=a();return n.find(c=>c.id===d)||null},addWidget:n=>{t(({selectedId:d,widgets:c})=>{const r=[...c];if(!d)r.push(n);else{const p=c.findIndex(m=>m.id===d);p===-1?r.push(n):r.splice(p+1,0,n)}return D.set(I,r),{widgets:r,selectedId:n.id}})},removeWidget:n=>{t(({widgets:d})=>{const c=d.findIndex(m=>m.id===n),r=d.filter(m=>m.id!==n),p=r.length===0?null:r.length>c?r[c].id:r.length===c?r[c-1].id:null;return D.set(I,r),{widgets:r,selectedId:p}})},setWidgets:n=>{t({widgets:n}),D.set(I,n)},resetWidgets:()=>{t({widgets:[],selectedId:null}),D.remove(I)},setSelectedId:n=>t({selectedId:n})}});j.subscribe((t,a)=>{const{selectedId:s}=t;s&&s!==a.selectedId&&setTimeout(()=>{const i=document.getElementById(s);if(!i)return;const o=i.getBoundingClientRect();o.top>=68&&o.bottom<=window.innerHeight-16||i.scrollIntoView({behavior:"smooth",block:"nearest"})})});const as=()=>{const t=j(m=>m.widgets),a=j(m=>m.resetWidgets),s=j(m=>m.setWidgets),i=j(m=>m.setSelectedId),o=ne(),n=x.useRef(null),d=m=>{var b;const y=(b=m.target.files)==null?void 0:b[0];if(y){const u=new FileReader;u.onload=k=>{var N;try{const T=(N=k.target)==null?void 0:N.result,A=U.safeParse(JSON.parse(T));if(A.success){const _=A.data;s(_),i(_.length?_[0].id:""),C.success("成功导入配置文件",{position:"top-center"})}else console.error(A.error),C.error("配置文件解析失败",{position:"top-center"})}catch(T){console.error(T),C.error("配置文件解析失败",{position:"top-center"})}},u.readAsText(y)}},c=()=>{const m=JSON.stringify(t,null,2),y=new Blob([m],{type:"application/json"}),b=URL.createObjectURL(y),u=document.createElement("a");u.href=b,u.download=(Ne(t)||"resume-config")+".json",u.click(),URL.revokeObjectURL(b)},r=()=>{const m=Vt(JSON.stringify(t));o("/preview?data="+m)},p=()=>{sessionStorage.setItem("PRINT","true"),o("/preview")};return e.jsxs("div",{className:"border-b-10 flex h-[52px] items-center justify-between border-b px-6",children:[e.jsxs("a",{href:"https://xuanji.heng.ink",target:"_blank",className:"flex-center",children:[e.jsx("span",{children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 128 128",children:[e.jsx("circle",{cx:"64.149",cy:"64.236",r:"60.999",fill:"#fff"}),e.jsx("path",{"fill-opacity":"0.1",d:"M102.966 75.327c0-21.439-17.379-38.819-38.817-38.819s-38.818 17.38-38.818 38.819h11.09c0-15.314 12.415-27.727 27.727-27.727s27.727 12.413 27.727 27.727"}),e.jsx("circle",{cx:"66.922",cy:"71.999",r:"21.072","fill-opacity":"0.1"}),e.jsxs("linearGradient",{id:"deviconChrome0",x1:"395.191",x2:"395.191",y1:"484.168",y2:"484.723",gradientTransform:"matrix(82 0 0 82 -32341.5 -39660.313)",gradientUnits:"userSpaceOnUse",children:[e.jsx("stop",{offset:"0","stop-color":"#81b4e0"}),e.jsx("stop",{offset:"1","stop-color":"#0c5a94"})]}),e.jsx("circle",{cx:"64.149",cy:"64.235",r:"22.736",fill:"url(#deviconChrome0)"}),e.jsxs("linearGradient",{id:"deviconChrome1",x1:"-608.91",x2:"-608.91",y1:"-597.648",y2:"-547.185",gradientTransform:"translate(675 599.775)",gradientUnits:"userSpaceOnUse",children:[e.jsx("stop",{offset:"0","stop-color":"#f06b59"}),e.jsx("stop",{offset:"1","stop-color":"#df2227"})]}),e.jsx("path",{fill:"url(#deviconChrome1)",d:"M119.602 36.508C104.336 5.792 67.06-6.732 36.343 8.534A62.1 62.1 0 0 0 12.578 29.3l24.955 43.253c-4.597-14.606 3.521-30.174 18.127-34.77a27.7 27.7 0 0 1 7.935-1.274"}),e.jsxs("linearGradient",{id:"deviconChrome2",x1:"-657.835",x2:"-632.327",y1:"-491.393",y2:"-533.537",gradientTransform:"translate(675 599.775)",gradientUnits:"userSpaceOnUse",children:[e.jsx("stop",{offset:"0","stop-color":"#388b41"}),e.jsx("stop",{offset:"1","stop-color":"#4cb749"})]}),e.jsx("path",{fill:"url(#deviconChrome2)",d:"M12.578 29.3c-19.1 28.492-11.486 67.071 17.005 86.171a62.13 62.13 0 0 0 29.575 10.319l26.063-44.363c-9.745 11.811-27.22 13.486-39.032 3.74a27.7 27.7 0 0 1-8.657-12.613"}),e.jsxs("linearGradient",{id:"deviconChrome3",x1:"-572.385",x2:"-599.557",y1:"-486.91",y2:"-552.345",gradientTransform:"translate(675 599.775)",gradientUnits:"userSpaceOnUse",children:[e.jsx("stop",{offset:"0","stop-color":"#e4b022"}),e.jsx("stop",{offset:".3","stop-color":"#fcd209"})]}),e.jsx("path",{fill:"url(#deviconChrome3)",d:"M59.158 125.791c34.204 2.585 64.027-23.047 66.613-57.25a62.1 62.1 0 0 0-6.17-32.031H63.595c15.312.07 27.67 12.541 27.598 27.854a27.73 27.73 0 0 1-5.972 17.064"}),e.jsxs("linearGradient",{id:"deviconChrome4",x1:"-649.391",x2:"-649.391",y1:"-528.885",y2:"-573.247",gradientTransform:"translate(675 599.775)",gradientUnits:"userSpaceOnUse",children:[e.jsx("stop",{offset:"0","stop-opacity":"0.15"}),e.jsx("stop",{offset:".3","stop-opacity":"0.06"}),e.jsx("stop",{offset:"1","stop-opacity":"0.03"})]}),e.jsx("path",{fill:"url(#deviconChrome4)",d:"m12.578 29.3l24.955 43.253a27.73 27.73 0 0 1 1.107-18.854L13.686 27.636"}),e.jsxs("linearGradient",{id:"deviconChrome5",x1:"-588.158",x2:"-618.657",y1:"-514.559",y2:"-483.505",gradientTransform:"translate(675 599.775)",gradientUnits:"userSpaceOnUse",children:[e.jsx("stop",{offset:"0","stop-opacity":"0.15"}),e.jsx("stop",{offset:".3","stop-opacity":"0.06"}),e.jsx("stop",{offset:"1","stop-opacity":"0.03"})]}),e.jsx("path",{fill:"url(#deviconChrome5)",d:"m59.158 125.791l26.063-44.363a27.73 27.73 0 0 1-16.082 9.426l-11.091 34.937"}),e.jsxs("linearGradient",{id:"deviconChrome6",x1:"-588.6",x2:"-584.163",y1:"-505.621",y2:"-549.431",gradientTransform:"translate(675 599.775)",gradientUnits:"userSpaceOnUse",children:[e.jsx("stop",{offset:"0","stop-opacity":"0.15"}),e.jsx("stop",{offset:".3","stop-opacity":"0.06"}),e.jsx("stop",{offset:"1","stop-opacity":"0.03"})]}),e.jsx("path",{fill:"url(#deviconChrome6)",d:"M119.602 36.508H63.595a27.73 27.73 0 0 1 21.626 10.537l35.491-8.873"})]})}),e.jsx("span",{className:"ml-1 text-sm underline",children:"click me!"})]}),e.jsx("span",{style:{color:"red",fontWeight:"bold"},children:"未连接数据库，请注意及时保存数据到本地！"}),e.jsxs("div",{className:"flex-center gap-4",children:[e.jsx("input",{ref:n,type:"file",accept:"application/json",onChange:d,style:{display:"none"}}),e.jsx(g,{variant:"outline",size:"sm",onClick:()=>{var m;return(m=n.current)==null?void 0:m.click()},children:"导入配置"}),e.jsx(g,{variant:"outline",size:"sm",onClick:c,children:"导出配置"}),e.jsxs(Ft,{children:[e.jsx(Xt,{asChild:!0,children:e.jsx(g,{variant:"outline",size:"sm",children:"重置"})}),e.jsxs(ue,{children:[e.jsxs(xe,{children:[e.jsx(ge,{children:"确认重置？"}),e.jsx(fe,{children:"重置后数据不可恢复。"})]}),e.jsxs(he,{children:[e.jsx(ve,{children:"取消"}),e.jsx(je,{onClick:a,children:"确认"})]})]})]})]}),e.jsxs("div",{className:"flex-center gap-4",children:[e.jsx(g,{variant:"outline",size:"sm",onClick:r,children:"预览"}),e.jsx(g,{size:"sm",onClick:p,children:"打印"})]})]})},f=x.forwardRef(({className:t,type:a,...s},i)=>e.jsx("input",{type:a,className:h("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:i,...s}));f.displayName="Input";const S=x.forwardRef(({className:t,...a},s)=>e.jsxs(oe,{ref:s,className:h("relative flex w-full touch-none select-none items-center",t),...a,children:[e.jsx(Pe,{className:"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20",children:e.jsx(Ue,{className:"absolute h-full bg-primary"})}),e.jsx(Ve,{className:"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})]}));S.displayName=oe.displayName;const ns=({url:t,rounded:a,onChange:s})=>{const i="z-20 shadow-[0_0_12px_2px_rgba(219,99,39,0.8)]";return e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{onClick:()=>s(!0),children:e.jsx("img",{src:t,alt:"avatar",className:w("h-8 w-8 rounded-full",a&&i)})}),e.jsx("button",{onClick:()=>s(!1),children:e.jsx("img",{src:t,alt:"avatar",className:w("h-8 w-8",!a&&i)})})]})};function os(t){return e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",...t,children:e.jsx("path",{fill:"currentColor",d:"m13.06 8.111l1.415 1.414a7 7 0 0 1 0 9.9l-.354.353a7 7 0 1 1-9.9-9.9l1.415 1.415a5 5 0 1 0 7.071 7.071l.354-.354a5 5 0 0 0 0-7.07l-1.415-1.415zm6.718 6.01l-1.414-1.414a5 5 0 0 0-7.071-7.07l-.354.353a5 5 0 0 0 0 7.07l1.415 1.415l-1.415 1.414l-1.414-1.414a7 7 0 0 1 0-9.9l.354-.353a7 7 0 1 1 9.9 9.9"})})}function is(t){return e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",...t,children:e.jsx("path",{fill:"currentColor",d:"M12 14v2a6 6 0 0 0-6 6H4a8 8 0 0 1 8-8m0-1c-3.315 0-6-2.685-6-6s2.685-6 6-6s6 2.685 6 6s-2.685 6-6 6m0-2c2.21 0 4-1.79 4-4s-1.79-4-4-4s-4 1.79-4 4s1.79 4 4 4m8.828 10.071L18 24l-2.828-2.929c-1.562-1.618-1.562-4.24 0-5.858a3.904 3.904 0 0 1 5.656 0c1.563 1.618 1.563 4.24 0 5.858m-1.438-1.39c.813-.842.813-2.236 0-3.079a1.904 1.904 0 0 0-2.78 0c-.813.843-.813 2.237 0 3.08L18 21.12z"})})}function rs(t){return e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",...t,children:e.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,children:[e.jsx("path",{d:"M9 11c1.162 3.722 4.667 4.269 6 0m-6 0c-1.053 3.373-3.462 3.74-5 1.91M15 11c.934 2.992 3.383 3.933 5 1.967"}),e.jsx("path",{d:"M20 21v-8c0-1.09-.91-2-2-2H6c-1.09 0-2 .91-2 2v8m-2 0h20M7 7v4m5-4v4m5-4v4M7 4v.5m5-.5v.5m5-.5v.5"})]})})}function ls(t){return e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",...t,children:e.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M15.6 14.522c-2.395 2.52-8.504-3.534-6.1-6.064c1.468-1.545-.19-3.31-1.108-4.609c-1.723-2.435-5.504.927-5.39 3.066c.363 6.746 7.66 14.74 14.726 14.042c2.21-.218 4.75-4.21 2.215-5.669c-1.268-.73-3.009-2.17-4.343-.767M14 3a7 7 0 0 1 7 7m-7-3a3 3 0 0 1 3 3"})})}function cs(t){return e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:256,height:250,viewBox:"0 0 256 250",...t,children:e.jsx("path",{fill:"#161614",d:"M128.001 0C57.317 0 0 57.307 0 128.001c0 56.554 36.676 104.535 87.535 121.46c6.397 1.185 8.746-2.777 8.746-6.158c0-3.052-.12-13.135-.174-23.83c-35.61 7.742-43.124-15.103-43.124-15.103c-5.823-14.795-14.213-18.73-14.213-18.73c-11.613-7.944.876-7.78.876-7.78c12.853.902 19.621 13.19 19.621 13.19c11.417 19.568 29.945 13.911 37.249 10.64c1.149-8.272 4.466-13.92 8.127-17.116c-28.431-3.236-58.318-14.212-58.318-63.258c0-13.975 5-25.394 13.188-34.358c-1.329-3.224-5.71-16.242 1.24-33.874c0 0 10.749-3.44 35.21 13.121c10.21-2.836 21.16-4.258 32.038-4.307c10.878.049 21.837 1.47 32.066 4.307c24.431-16.56 35.165-13.12 35.165-13.12c6.967 17.63 2.584 30.65 1.255 33.873c8.207 8.964 13.173 20.383 13.173 34.358c0 49.163-29.944 59.988-58.447 63.157c4.591 3.972 8.682 11.762 8.682 23.704c0 17.126-.148 30.91-.148 35.126c0 3.407 2.304 7.398 8.792 6.14C219.37 232.5 256 184.537 256 128.002C256 57.307 198.691 0 128.001 0m-80.06 182.34c-.282.636-1.283.827-2.194.39c-.929-.417-1.45-1.284-1.15-1.922c.276-.655 1.279-.838 2.205-.399c.93.418 1.46 1.293 1.139 1.931m6.296 5.618c-.61.566-1.804.303-2.614-.591c-.837-.892-.994-2.086-.375-2.66c.63-.566 1.787-.301 2.626.591c.838.903 1 2.088.363 2.66m4.32 7.188c-.785.545-2.067.034-2.86-1.104c-.784-1.138-.784-2.503.017-3.05c.795-.547 2.058-.055 2.861 1.075c.782 1.157.782 2.522-.019 3.08m7.304 8.325c-.701.774-2.196.566-3.29-.49c-1.119-1.032-1.43-2.496-.726-3.27c.71-.776 2.213-.558 3.315.49c1.11 1.03 1.45 2.505.701 3.27m9.442 2.81c-.31 1.003-1.75 1.459-3.199 1.033c-1.448-.439-2.395-1.613-2.103-2.626c.301-1.01 1.747-1.484 3.207-1.028c1.446.436 2.396 1.602 2.095 2.622m10.744 1.193c.036 1.055-1.193 1.93-2.715 1.95c-1.53.034-2.769-.82-2.786-1.86c0-1.065 1.202-1.932 2.733-1.958c1.522-.03 2.768.818 2.768 1.868m10.555-.405c.182 1.03-.875 2.088-2.387 2.37c-1.485.271-2.861-.365-3.05-1.386c-.184-1.056.893-2.114 2.376-2.387c1.514-.263 2.868.356 3.061 1.403"})})}function ds(t){return e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",...t,children:e.jsx("path",{fill:"currentColor",d:"m12 14.316l7.454-5.88l-2.022-1.625L12 11.1l-.004.003l-5.432-4.288l-2.02 1.624l7.452 5.88Zm0-7.247l2.89-2.298L12 2.453l-.004-.005l-2.884 2.318l2.884 2.3Zm0 11.266l-.005.002l-9.975-7.87L0 12.088l.194.156l11.803 9.308l7.463-5.885L24 12.085l-2.023-1.624Z"})})}function ms(t){return e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:1024,height:1024,viewBox:"0 0 1024 1024",...t,children:e.jsx("path",{fill:"currentColor",d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32m-40 110.8V792H136V270.8l-27.6-21.5l39.3-50.5l42.8 33.3h643.1l42.8-33.3l39.3 50.5zM833.6 232L512 482L190.4 232l-42.8-33.3l-39.3 50.5l27.6 21.5l341.6 265.6a55.99 55.99 0 0 0 68.7 0L888 270.8l27.6-21.5l-39.3-50.5z"})})}function ps(t){return e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:256,height:193,viewBox:"0 0 256 193",...t,children:[e.jsx("path",{fill:"#4285f4",d:"M58.182 192.05V93.14L27.507 65.077L0 49.504v125.091c0 9.658 7.825 17.455 17.455 17.455z"}),e.jsx("path",{fill:"#34a853",d:"M197.818 192.05h40.727c9.659 0 17.455-7.826 17.455-17.455V49.505l-31.156 17.837l-27.026 25.798z"}),e.jsx("path",{fill:"#ea4335",d:"m58.182 93.14l-4.174-38.647l4.174-36.989L128 69.868l69.818-52.364l4.669 34.992l-4.669 40.644L128 145.504z"}),e.jsx("path",{fill:"#fbbc04",d:"M197.818 17.504V93.14L256 49.504V26.231c0-21.585-24.64-33.89-41.89-20.945z"}),e.jsx("path",{fill:"#c5221f",d:"m0 49.504l26.759 20.07L58.182 93.14V17.504L41.89 5.286C24.61-7.66 0 4.646 0 26.23z"})]})}const us=["RiLinksLine","RiUserLocationLine","MynauiCake","MynauiTelephoneCall","LogosGithubIcon","SimpleIconsJuejin","AntDesignMailOutlined","LogosGoogleGmail"],G=t=>{const a={width:"1em",height:"1em"};switch(t){case"RiLinksLine":return e.jsx(os,{...a});case"RiUserLocationLine":return e.jsx(is,{...a});case"MynauiCake":return e.jsx(rs,{...a});case"MynauiTelephoneCall":return e.jsx(ls,{...a});case"LogosGithubIcon":return e.jsx(cs,{...a});case"SimpleIconsJuejin":return e.jsx(ds,{...a});case"AntDesignMailOutlined":return e.jsx(ms,{...a});case"LogosGoogleGmail":return e.jsx(ps,{...a});default:return null}},V=Fe,Ce=Xe,xs=$e,B=x.forwardRef(({className:t,align:a="center",sideOffset:s=4,...i},o)=>e.jsx(He,{children:e.jsx(ie,{ref:o,align:a,sideOffset:s,className:h("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...i})}));B.displayName=ie.displayName;const hs=({value:t,onChange:a,className:s})=>e.jsxs(V,{children:[e.jsx(Ce,{asChild:!0,children:e.jsx(g,{className:s,variant:"outline",size:"icon",children:G(t)})}),e.jsx(B,{className:"w-52",align:"start",children:e.jsx("div",{className:"flex flex-wrap justify-between",children:us.map(i=>e.jsx(g,{variant:"outline",size:"icon",className:"mb-2",onClick:()=>a(i),children:G(i)},i))})})]}),gs=({value:t,onChange:a,className:s})=>e.jsxs(V,{children:[e.jsx(Ce,{asChild:!0,children:e.jsx(g,{className:s,variant:"outline",size:"icon",children:e.jsx("span",{className:"iconify ri--links-line"})})}),e.jsx(B,{className:"w-52",align:"end",children:e.jsx("div",{className:"flex flex-wrap justify-between",children:e.jsx(f,{value:t,onChange:i=>a(i.target.value),placeholder:"输入链接地址"})})})]}),fs=3,X=48,$=128,R=20,M=100,J=0,Z=48,K=0,L=64,O=({data:t,onChange:a})=>{const s=(d,c,r)=>{const p=z(t,m=>{m[d][c]=r});a(p)},i=d=>{const c=z(t,r=>{r.splice(d,1)});a(c)},o=t.length<fs,n=()=>{a([...t,ts()])};return e.jsxs("ul",{children:[t.map((d,c)=>e.jsxs("li",{className:"mb-2 flex items-center",children:[e.jsx(hs,{value:d.icon,onChange:r=>s(c,"icon",r),className:"mr-1 shrink-0"}),e.jsx(f,{value:d.content,onChange:r=>s(c,"content",r.target.value)}),e.jsx(gs,{value:d.href,onChange:r=>s(c,"href",r),className:"ml-1 shrink-0"}),e.jsx(g,{className:"ml-1 shrink-0",variant:"outline",size:"icon",onClick:()=>i(c),children:e.jsx("span",{className:"iconify ri--delete-bin-line"})})]},c)),o&&e.jsx("li",{className:"mb-2 flex items-center",children:e.jsx(g,{className:"w-full",variant:"outline",size:"icon",onClick:n,children:e.jsx("span",{className:"iconify text-lg ri--add-line"})})})]})},js=({data:t,onChange:a})=>{const{propsData:s}=t,{avatarUrl:i,avatarSize:o,avatarRound:n,name:d,jobTitle:c,linksGroup:r}=s,p=u=>{const{name:k,value:N}=u.target;a({...t,propsData:{...s,[k]:N}})},m=u=>{a({...t,propsData:{...s,avatarSize:Number(u)}})},y=u=>{a({...t,propsData:{...s,avatarRound:u}})},b=(u,k)=>{const N=z(r,T=>{T[u]=k});a({...t,propsData:{...s,linksGroup:N}})};return e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsx("div",{className:"form-label",children:e.jsx("span",{children:"头像地址"})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(f,{className:"mr-4 w-32",name:"avatarUrl",value:i,placeholder:"输入头像地址",onChange:p}),e.jsx(ns,{url:i,rounded:n,onChange:y})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"form-label",children:e.jsx("span",{children:"头像尺寸"})}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(f,{className:"mr-4 w-32 shrink-0",name:"avatarSize",type:"number",min:X,max:$,value:o,onChange:u=>m(u.target.value)}),e.jsx(S,{value:[o],min:X,max:$,step:1,onValueChange:u=>m(u[0])})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"form-label",children:e.jsx("span",{children:"姓名"})}),e.jsx(f,{name:"name",value:d,placeholder:"输入姓名",onChange:p})]}),e.jsxs("div",{children:[e.jsx("div",{className:"form-label",children:e.jsx("span",{children:"职位"})}),e.jsx(f,{name:"jobTitle",value:c,placeholder:"输入职位",onChange:p})]}),e.jsxs("div",{children:[e.jsx("div",{className:"form-label",children:e.jsx("span",{children:"联系方式（第一行）"})}),e.jsx(O,{data:r[0],onChange:u=>b(0,u)}),e.jsx("div",{className:"form-label",children:e.jsx("span",{children:"联系方式（第二行）"})}),e.jsx(O,{data:r[1],onChange:u=>b(1,u)}),e.jsx("div",{className:"form-label",children:e.jsx("span",{children:"联系方式（第三行）"})}),e.jsx(O,{data:r[2],onChange:u=>b(2,u)})]})]})},vs=({data:t,onChange:a})=>{const{propsData:s}=t,i=o=>{const{name:n,value:d}=o.target;a({...t,propsData:{...s,[n]:d}})};return e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsx("div",{className:"form-label",children:e.jsx("span",{children:"经历内容"})}),e.jsx(f,{name:"title",value:s.title,placeholder:"输入经历",onChange:i})]}),e.jsxs("div",{children:[e.jsx("div",{className:"form-label",children:e.jsx("span",{children:"起止时间"})}),e.jsx(f,{name:"dateRange",value:s.dateRange,placeholder:"输入起止时间",onChange:i})]})]})},bs=({data:t,onChange:a})=>{const{propsData:s}=t,{url:i,imageSize:o,borderRadius:n}=s,d=r=>{const{name:p,value:m}=r.target;a({...t,propsData:{...s,[p]:m}})},c=(r,p)=>{a({...t,propsData:{...s,[r]:Number(p)}})};return e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsx("div",{className:"form-label",children:e.jsx("span",{children:"图片地址"})}),e.jsx(f,{name:"url",value:i,placeholder:"输入图片地址",onChange:d})]}),e.jsxs("div",{children:[e.jsx("div",{className:"form-label",children:e.jsx("span",{children:"图片大小（百分比）"})}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(f,{className:"mr-4 w-32 shrink-0",name:"imageSize",type:"number",min:R,max:M,value:o,onChange:r=>c("imageSize",r.target.value)}),e.jsx(S,{value:[o],min:R,max:M,step:1,onValueChange:r=>c("imageSize",r[0])})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"form-label",children:e.jsx("span",{children:"图片圆角"})}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(f,{className:"mr-4 w-32 shrink-0",type:"number",name:"borderRadius",value:n,min:J,max:Z,onChange:r=>c("borderRadius",r.target.value)}),e.jsx(S,{value:[n],min:J,max:Z,step:1,onValueChange:r=>c("borderRadius",r[0])})]})]})]})};function ys({styleData:t,onStyleChange:a}){const s=o=>{const{name:n,value:d}=o.target;a({...t,[n]:Number(d)||0})},i=(o,n)=>{a({...t,[o]:n})};return e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("div",{className:"form-label",children:e.jsx("span",{children:"上边距"})}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(f,{className:"mr-4 w-32 shrink-0",name:"marginTop",type:"number",min:K,max:L,value:t.marginTop,onChange:s}),e.jsx(S,{value:[t.marginTop],max:L,step:1,onValueChange:o=>i("marginTop",o[0])})]})]}),e.jsxs("li",{children:[e.jsx("div",{className:"form-label",children:e.jsx("span",{children:"下边距"})}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(f,{className:"mr-4 w-32 shrink-0",name:"marginBottom",type:"number",min:K,max:L,value:t.marginBottom,onChange:s}),e.jsx(S,{value:[t.marginBottom],max:L,step:1,onValueChange:o=>i("marginBottom",o[0])})]})]})]})}const ws=({name:t})=>{switch(t){case"undo":return e.jsx(it,{size:20});case"redo":return e.jsx(ot,{size:20});case"paragraph":return e.jsx(nt,{size:20});case"h1":return e.jsx(at,{size:20});case"h2":return e.jsx(st,{size:20});case"h3":return e.jsx(tt,{size:20});case"bold":return e.jsx(et,{size:20});case"italic":return e.jsx(Ye,{size:20});case"strike":return e.jsx(Qe,{size:20});case"code":return e.jsx(qe,{size:20});case"link":return e.jsx(Ke,{size:20});case"bullet-list":return e.jsx(Ze,{size:20});case"ordered-list":return e.jsx(Je,{size:20});default:return t}},v=t=>{const{name:a,active:s,onClick:i}=t;return e.jsx("div",{className:w("flex-center mr-2 h-7 cursor-pointer rounded px-1 hover:bg-zinc-200",s&&"bg-zinc-200"),onClick:i,children:e.jsx(ws,{name:a})})},Ns=({editor:t})=>{const[a,s]=x.useState(!1),[i,o]=x.useState(""),n=()=>{if(a)return;s(!0);const c=t.getAttributes("link").href;c&&o(c)},d=()=>{const c=i.trim();if(!c){t.chain().focus().extendMarkRange("link").unsetLink().run();return}t.chain().focus().extendMarkRange("link").setLink({href:c}).run()};return e.jsxs("div",{className:"flex h-full items-center",children:[e.jsx(v,{name:"undo",onClick:()=>t.chain().focus().undo().run()}),e.jsx(v,{name:"redo",onClick:()=>t.chain().focus().redo().run()}),e.jsx("div",{className:"relative top-[0.5px] ml-1 mr-3 h-4 w-px bg-zinc-400"}),e.jsx(v,{name:"paragraph",active:t.isActive("paragraph"),onClick:()=>{t.chain().focus().setParagraph().run()}}),e.jsx(v,{name:"h1",active:t.isActive("heading",{level:1}),onClick:()=>t.chain().focus().setHeading({level:1}).run()}),e.jsx(v,{name:"h2",active:t.isActive("heading",{level:2}),onClick:()=>t.chain().focus().setHeading({level:2}).run()}),e.jsx(v,{name:"h3",active:t.isActive("heading",{level:3}),onClick:()=>t.chain().focus().setHeading({level:3}).run()}),e.jsx(v,{name:"bullet-list",active:t.isActive("bulletList"),onClick:()=>{t.chain().focus().toggleBulletList().run()}}),e.jsx(v,{name:"ordered-list",active:t.isActive("orderedList"),onClick:()=>{t.chain().focus().toggleOrderedList().run()}}),e.jsx("div",{className:"relative top-[0.5px] ml-1 mr-3 h-4 w-px bg-zinc-400"}),e.jsx(v,{name:"bold",active:t.isActive("bold"),onClick:()=>{t.chain().focus().toggleBold().run()}}),e.jsx(v,{name:"italic",active:t.isActive("italic"),onClick:()=>{t.chain().focus().toggleItalic().run()}}),e.jsx(v,{name:"strike",active:t.isActive("strike"),onClick:()=>{t.chain().focus().toggleStrike().run()}}),e.jsx(v,{name:"code",active:t.isActive("code"),onClick:()=>{t.chain().focus().toggleCode().run()}}),e.jsxs(V,{open:a,onOpenChange:s,children:[e.jsx(xs,{asChild:!0,children:e.jsx("div",{children:e.jsx(v,{name:"link",active:t.isActive("link"),onClick:n})})}),e.jsx(B,{className:"w-64",align:"start",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(f,{value:i,onChange:c=>o(c.target.value),placeholder:"输入链接地址"}),e.jsx(g,{className:"ml-2 shrink-0",size:"icon",onClick:d,children:e.jsx("span",{className:"iconify text-lg ri--check-line"})})]})})]})]})},Cs=[Pt,Ut],Ss=({content:t,ref:a})=>{const s=Ot({extensions:Cs,content:t,onCreate:({editor:o})=>{const n=o.state.doc.content.size;o.chain().focus().setTextSelection(n).run()}}),i=o=>{if(s&&o.target===o.currentTarget){const n=s.state.doc.content.size;s.chain().focus().setTextSelection(n).run()}};return x.useImperativeHandle(a,()=>({getHTML:()=>(s==null?void 0:s.getHTML())||""}),[s]),e.jsxs("div",{className:"h-full",onClick:i,children:[e.jsx("div",{className:"h-10 w-full",children:s&&e.jsx(Ns,{editor:s})}),e.jsx("div",{className:"h-[calc(100%-48px)] overflow-auto",children:e.jsx(Gt,{editor:s})})]})},ks=dt,Ts=mt,Ds=ct,Se=x.forwardRef(({className:t,...a},s)=>e.jsx(re,{ref:s,className:h("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...a}));Se.displayName=re.displayName;const ke=x.forwardRef(({className:t,children:a,...s},i)=>e.jsxs(Ds,{children:[e.jsx(Se,{}),e.jsxs(le,{ref:i,className:h("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...s,children:[a,e.jsxs(rt,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(lt,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ke.displayName=le.displayName;const Te=({className:t,...a})=>e.jsx("div",{className:h("flex flex-col space-y-1.5 text-center sm:text-left",t),...a});Te.displayName="DialogHeader";const De=({className:t,...a})=>e.jsx("div",{className:h("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a});De.displayName="DialogFooter";const Ie=x.forwardRef(({className:t,...a},s)=>e.jsx(ce,{ref:s,className:h("text-lg font-semibold leading-none tracking-tight",t),...a}));Ie.displayName=ce.displayName;const Le=x.forwardRef(({className:t,...a},s)=>e.jsx(de,{ref:s,className:h("text-sm text-muted-foreground",t),...a}));Le.displayName=de.displayName;const Is=({data:t,onChange:a})=>{const{propsData:s}=t,[i,o]=x.useState(""),[n,d]=x.useState(!1),c=m=>{m?(d(!0),o(s.content)):(d(!1),o(""))},r=x.useRef(null),p=()=>{if(r.current){const m=r.current.getHTML();a({...t,propsData:{...s,content:m}})}c(!1)};return e.jsx("div",{children:e.jsxs("div",{children:[e.jsx("div",{className:"form-label",children:e.jsx("span",{children:"文本内容"})}),e.jsxs(ks,{open:n,onOpenChange:c,children:[e.jsx(Ts,{asChild:!0,children:e.jsxs(g,{variant:"outline",className:"w-full",children:[e.jsx("span",{className:"iconify ri--edit-line"}),"编辑内容"]})}),e.jsxs(ke,{className:"min-w-[800px]",onEscapeKeyDown:m=>m.preventDefault(),children:[e.jsxs(Te,{children:[e.jsx(Ie,{children:"文本内容"}),e.jsx(Le,{})]}),e.jsx("div",{className:"h-[320px]",children:e.jsx(Ss,{ref:r,content:i})}),e.jsx(De,{children:e.jsx(g,{onClick:p,children:"保存内容"})})]})]})]})})},Ls=({data:t,onChange:a})=>{const{propsData:s}=t,i=o=>{const{name:n,value:d}=o.target;a({...t,propsData:{...s,[n]:d}})};return e.jsx("div",{children:e.jsxs("div",{children:[e.jsx("div",{className:"form-label",children:e.jsx("span",{children:"标题内容"})}),e.jsx(f,{name:"title",value:s.title,placeholder:"输入标题内容",onChange:i})]})})},zs=()=>{const t=j(c=>c.widgets),a=j(c=>c.setWidgets),s=j(c=>c.selectedWidget());if(!s)return null;const i=ye[s.type],o=c=>{const r=t.map(p=>p.id===s.id?{...p,data:c}:p);a(r)},n=(()=>{switch(s.type){case"BasicInfo":return e.jsx(js,{data:s.data,onChange:o});case"TitleSection":return e.jsx(Ls,{data:s.data,onChange:o});case"ExperienceTime":return e.jsx(vs,{data:s.data,onChange:o});case"TextContent":return e.jsx(Is,{data:s.data,onChange:o});case"ImageSection":return e.jsx(bs,{data:s.data,onChange:o})}})(),d=c=>{const r=z(t,p=>{const m=p.find(y=>y.id===s.id);Wt(m),m.data.styleData=c});a(r)};return e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:w(i.icon,"h-4 w-4")}),e.jsx("span",{className:"ml-2 text-xl font-medium",children:i.title})]}),n,e.jsxs("div",{className:"mt-4 flex items-center",children:[e.jsx("span",{className:"iconify h-4 w-4 ri--layout-2-fill"}),e.jsx("span",{className:"ml-2 text-xl font-medium",children:"样式布局"})]}),e.jsx(ys,{styleData:s.data.styleData,onStyleChange:d})]})},ze=({data:t})=>{const{avatarUrl:a,avatarSize:s,avatarRound:i,name:o,jobTitle:n,linksGroup:d}=t;return e.jsxs("div",{className:"flex-center py-5",children:[a?e.jsx("img",{src:a,alt:"avatar",width:s||100,height:s||100,className:w("mr-8 sm:mr-16",i&&"rounded-full"),draggable:!1}):null,e.jsxs("div",{className:"basis-0",children:[e.jsxs("div",{className:"mb-1 flex items-end whitespace-nowrap",children:[e.jsx("span",{className:"mr-3 text-2xl font-semibold",children:o}),e.jsx("span",{className:"text-[17px]",children:n})]}),e.jsx("ul",{children:d.map((c,r)=>e.jsx("li",{children:e.jsx("ul",{className:"flex flex-wrap items-center sm:flex-nowrap",children:c.map((p,m)=>e.jsxs("li",{className:"mr-4 flex h-8 min-w-40 items-center",children:[e.jsx("span",{className:"flex-center mr-2",children:G(p.icon)}),e.jsx("a",{href:p.href||void 0,className:w("font-mono",p.href&&"underline"),target:"_blank",children:p.content})]},m))})},r))})]})]})},Re=({data:t})=>{const{title:a,dateRange:s}=t;return e.jsxs("div",{className:"flex flex-wrap items-center justify-between py-1",children:[e.jsx("div",{className:"text-[18px] font-semibold",children:a}),e.jsx("div",{className:"font-mono text-sm text-zinc-600",children:s})]})},Me=({data:t})=>{const{url:a,imageSize:s,borderRadius:i}=t;let o=`${s}%`;return s<R?o=`${R}%`:s>M&&(o=`${M}%`),e.jsx("div",{className:"flex-center drop-shadow-lg",children:e.jsx("img",{style:{width:o,borderRadius:i},src:a,alt:"image",draggable:"false"})})},Be=({data:t})=>{const{content:a}=t;return e.jsx("div",{className:"tiptap flex flex-col justify-center",dangerouslySetInnerHTML:{__html:a}})},Ae=({data:t})=>{const{title:a}=t;return e.jsxs("div",{className:"flex h-9 items-center",children:[e.jsx("div",{className:"h-full w-1 bg-zinc-600"}),e.jsx("div",{className:"flex h-full flex-grow items-center bg-zinc-200 pl-2 text-xl font-medium",children:a})]})};function Rs({item:t,isSelected:a}){const s=j(r=>r.addWidget),i=r=>{r.stopPropagation();const p=JSON.parse(JSON.stringify(t));p.id=we(),s(p)},o=j(r=>r.removeWidget),n=r=>{r.stopPropagation(),o(t.id)},d=()=>{switch(t.type){case"BasicInfo":return e.jsx(ze,{data:t.data.propsData});case"TitleSection":return e.jsx(Ae,{data:t.data.propsData});case"ExperienceTime":return e.jsx(Re,{data:t.data.propsData});case"TextContent":return e.jsx(Be,{data:t.data.propsData});case"ImageSection":return e.jsx(Me,{data:t.data.propsData})}},c=()=>a?e.jsxs("div",{className:"absolute right-1 top-1 flex items-center gap-2 opacity-0 transition-opacity group-hover:opacity-100",children:[e.jsx(g,{variant:"outline",size:"icon",className:"h-7 w-7",onMouseDown:i,children:e.jsx(pt,{})}),e.jsx(g,{variant:"outline",size:"icon",className:"h-7 w-7",onMouseDown:n,children:e.jsx(ut,{})})]}):null;return e.jsxs("div",{style:t.data.styleData,children:[e.jsx(d,{}),e.jsx(c,{})]})}const Ms=x.memo(Rs);function Bs({item:t}){const s=j(u=>u.selectedId)===t.id,{isDragging:i,attributes:o,listeners:n,setNodeRef:d,transform:c,transition:r}=xt({id:t.id}),p={transform:ht.Translate.toString(c),transition:r},m=()=>i?"z-20 shadow-[0_4px_18px_2px_rgba(219,99,39,0.8)]":s?"z-10 shadow-[0_4px_12px_2px_rgba(219,99,39,0.6)]":"",y=j(u=>u.setSelectedId),b=()=>y(t.id);return e.jsx("li",{id:t.id,ref:d,style:p,...o,...n,onMouseDown:b,className:w("group relative flow-root cursor-move bg-white transition-shadow",m()),children:e.jsx(Ms,{item:t,isSelected:s})})}function As(){const{widgets:t,setWidgets:a,setSelectedId:s}=j(gt(n=>({widgets:n.widgets,setWidgets:n.setWidgets,setSelectedId:n.setSelectedId}))),i=ft(H(kt,{activationConstraint:{distance:2}}),H(St,{coordinateGetter:Ct}));function o(n){const{active:d,over:c}=n;if(c&&d.id!==c.id){const r=t.findIndex(m=>m.id===d.id);if(r===-1)return;const p=t.findIndex(m=>m.id===c.id);if(p===-1)return;a(Tt(t,r,p)),s(d.id)}}return e.jsx("ul",{className:"print-wrapper relative rounded-2xl border",children:e.jsx(jt,{sensors:i,collisionDetection:vt,onDragEnd:o,modifiers:[bt,yt],children:e.jsx(wt,{items:t,strategy:Nt,children:t.map(n=>e.jsx(Bs,{item:n},n.id))})})})}const _s=()=>{const t=j(s=>s.addWidget),a=s=>{const i=es(s);t(i)};return e.jsx("ul",{className:"flex w-full flex-col p-4",children:be.map(s=>e.jsxs("li",{className:"mb-3 flex-grow",children:[e.jsxs(g,{variant:"outline",onClick:()=>a(s.type),className:"w-full justify-between",children:[e.jsxs("span",{className:"flex-center",children:[e.jsx("span",{className:w(s.icon,"mr-2 h-4 w-4")}),e.jsx("span",{children:s.title})]}),e.jsx("span",{className:"iconify ri--add-line"})]})," "]},s.type))})},q=()=>e.jsxs("div",{className:"h-[100vh]",children:[e.jsx(as,{}),e.jsxs("div",{className:"flex h-[calc(100%-52px)]",children:[e.jsx("div",{className:"scroll-thin h-full w-[200px] flex-shrink-0 overflow-y-auto border-r",children:e.jsx(_s,{})}),e.jsx("div",{className:"flex flex-grow justify-center bg-zinc-50 p-4",children:e.jsx(As,{})}),e.jsx("div",{className:"scroll-thin h-full w-[281px] flex-shrink-0 overflow-y-auto border-l 2xl:w-[321px]",children:e.jsx(zs,{})})]})]}),Es=()=>{let t=j(n=>n.widgets);const[a]=Dt(),s=a.get("data");if(s)try{const n=Ht(s),d=U.safeParse(JSON.parse(n));d.success?t=d.data:(t=[],console.error(d.error),setTimeout(()=>{C.error("参数解析失败",{position:"top-center"})},100))}catch(n){t=[],console.error(n),setTimeout(()=>{C.error("参数解析失败",{position:"top-center"})},100)}const i=ne();x.useEffect(()=>{sessionStorage.getItem(F)&&(sessionStorage.removeItem(F),setTimeout(()=>{const n=document.title;document.title=Ne(t)||n,window.addEventListener("afterprint",()=>{document.title=n,i(-1)},{once:!0}),window.print()},16))},[i,t]);const o=n=>{switch(n.type){case"BasicInfo":return e.jsx(ze,{data:n.data.propsData});case"TitleSection":return e.jsx(Ae,{data:n.data.propsData});case"ExperienceTime":return e.jsx(Re,{data:n.data.propsData});case"TextContent":return e.jsx(Be,{data:n.data.propsData});case"ImageSection":return e.jsx(Me,{data:n.data.propsData})}};return e.jsx("div",{className:"mx-auto lg:w-[900px] print:w-[900px]",children:e.jsx("ul",{className:"print-wrapper",children:t.map(n=>e.jsx("li",{className:"flow-root",children:e.jsx("div",{style:n.data.styleData,children:o(n)})},n.id))})})},Ws=({...t})=>{const{theme:a="system"}=It();return e.jsx(Lt,{theme:a,className:"toaster group",toastOptions:{classNames:{toast:"group toast mt-8 group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};zt.createRoot(document.getElementById("root")).render(e.jsx(x.StrictMode,{children:e.jsxs(Rt,{children:[e.jsx(Ws,{}),e.jsxs(Mt,{children:[e.jsx(E,{path:"/",element:e.jsx(q,{})}),e.jsx(E,{path:"/edit",element:e.jsx(q,{})}),e.jsx(E,{path:"/preview",element:e.jsx(Es,{})})]}),e.jsx(Bt,{}),e.jsx(At,{})]})}));
